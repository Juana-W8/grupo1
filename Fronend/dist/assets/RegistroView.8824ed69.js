import{_ as f,o as h,c as m,a as t,t as d,w as p,b as c,v as r,d as _,F as b,p as g,e as v}from"./index.f6afbbd9.js";const E={data(){return{texto:"Informaci\xF3n de estudiantes",texto2:"Busqueda",url:"http://150.136.99.250:8080/matriculas/api/",id:"",id2:0,identificacion:"",nombre:"",apellido:"",curso:"",montoMatricula:"",estadoPago:"",estadoMatricula:"",estudiantes:[],token:""}},methods:{limpiarFormulario(){this.id=0,this.id2=0,this.identificacion="",this.nombre="",this.apellido="",this.curso="",this.estadoMatricula="",this.estadoPago="",this.montoMatricula=""},crearEstudiante(){const a={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify({id:this.id,identificacion:this.identificacion,nombre:this.nombre,apellido:this.apellido,curso:this.curso,estadoMatricula:this.estadoMatricula,montoMatricula:this.montoMatricula,estadoPago:this.estadoPago})};fetch(this.url+"estudiantes",a).then(async o=>{if(o.ok){const i=await o.json();console.log(i),this.limpiarFormulario()}else{const i=new Error(o.statusText);throw i.json=o.json(),console.log(i.message),i}})},actualizarEstudiante(){const a={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify({id:this.id,identificacion:this.identificacion,nombre:this.nombre,apellido:this.apellido,curso:this.curso,estadoMatricula:this.estadoMatricula,montoMatricula:this.montoMatricula,estadoPago:this.estadoPago})};fetch(this.url+"estudiantes/"+this.id,a).then(async o=>{if(o.ok){const i=await o.json();console.log(i),this.limpiarFormulario()}else{const i=new Error(o.statusText);throw i.json=o.json(),console.log(i.message),i}})},solicitarToken(){const a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario:"prueba",clave:"123"})};fetch(this.url+"token",a).then(async o=>{if(o.ok){const i=await o.json();console.log(i),this.token=i.token}else{const i=new Error(o.statusText);throw i.json=o.json(),console.log(i.message),i}})},buscarEstudiante(){const a=this.id2,o={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}};fetch(this.url+"estudiantes/"+this.id2,o).then(async i=>{if(console.log(this.token),i.ok)this.estudiantes=await i.json(),console.log(this.estudiantes),this.limpiarFormulario();else{alert("El estudiante con id: "+a+" no existe");const u=new Error(i.statusText);throw u.json=i.json(),console.log(u.message),u}})},eliminarEstudiante(){const a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}};fetch(this.url+"estudiantes/"+this.id2,a).then(async o=>{if(o.ok)data=await o.json(),console.log(data);else{const i=new Error(o.statusText);throw i.json=o.json(),console.log(i.message),i}})}},beforeMount(){this.solicitarToken()}},l=a=>(g("data-v-0eede174"),a=a(),v(),a),y={class:"contenido"},M={class:"titulos"},k={class:"container"},w={class:"col-6"},x=l(()=>t("label",{for:"id",class:"form-label"},"ID",-1)),j={class:"col-6"},T=l(()=>t("label",{for:"identificacion",class:"form-label"},"Identificacion",-1)),D={class:"col-6"},P=l(()=>t("label",{for:"nombre",class:"form-label"},"Nombre",-1)),S={class:"col-6"},I=l(()=>t("label",{for:"apellido",class:"form-label"},"Apellido",-1)),V={class:"col-6"},z=l(()=>t("label",{for:"curso",class:"form-label"},"Curso",-1)),C={class:"col-6"},U=l(()=>t("label",{for:"montoMatricula",class:"form-label"},"Monto de la matricula",-1)),A={class:"col-6"},B=l(()=>t("label",{for:"estadoPago",class:"form-label"},"Estado del pago",-1)),F=l(()=>t("option",{selected:""},"Seleccione una opcion",-1)),O=l(()=>t("option",{value:"Pendiente"},"Pendiente",-1)),N=l(()=>t("option",{value:"Aceptado"},"Aceptado",-1)),R=l(()=>t("option",{value:"Rechazado"},"Rechazado",-1)),J=[F,O,N,R],q={class:"col-6"},G=l(()=>t("label",{for:"estadoMatricula",class:"form-label"},"Estado de la matricula",-1)),L=l(()=>t("datalist",{id:"datalistOptions"},[t("option",{value:"Pendiente"}),t("option",{value:"Matriculado"}),t("option",{value:"Rechazado"})],-1)),H={class:"titulos"},K={class:"contenido"},Q={class:"col-3"},W=l(()=>t("label",{for:"id",class:"form-label"},"ID",-1)),X={id:"buscarEstudiante"},Y={class:"table"},Z=l(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Identificacion"),t("th",{scope:"col"},"Nombre"),t("th",{scope:"col"},"Apellido"),t("th",{scope:"col"},"Curso"),t("th",{scope:"col"},"Monto de la matricula"),t("th",{scope:"col"},"Estado del pago"),t("th",{scope:"col"},"Estado de la matricula")])],-1)),$={key:0},tt=l(()=>t("td",{colspan:6},"no existe el estudiante",-1)),ot=[tt],et={key:1};function st(a,o,i,u,e,n){return h(),m(b,null,[t("div",y,[t("h1",M,d(e.texto),1),t("div",k,[t("form",{id:"formularioestudiantes",class:"row g-3",onSubmit:o[10]||(o[10]=p((...s)=>n.limpiarFormulario&&n.limpiarFormulario(...s),["prevent"]))},[t("div",w,[x,c(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.id=s),type:"number",class:"form-control",id:"id",placeholder:"Digite el ID"},null,512),[[r,e.id]])]),t("div",j,[T,c(t("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>e.identificacion=s),type:"text",class:"form-control",id:"identificacion",placeholder:"Digite el numero de identidad"},null,512),[[r,e.identificacion]])]),t("div",D,[P,c(t("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>e.nombre=s),type:"text",class:"form-control",id:"nombre",placeholder:"Digite el nombre"},null,512),[[r,e.nombre]])]),t("div",S,[I,c(t("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>e.apellido=s),type:"text",class:"form-control",id:"apellido",placeholder:"Digite el apellido"},null,512),[[r,e.apellido]])]),t("div",V,[z,c(t("input",{"onUpdate:modelValue":o[4]||(o[4]=s=>e.curso=s),type:"text",class:"form-control",id:"curso",placeholder:"Digite el curso"},null,512),[[r,e.curso]])]),t("div",C,[U,c(t("input",{"onUpdate:modelValue":o[5]||(o[5]=s=>e.montoMatricula=s),type:"text",class:"form-control",id:"montoMatricula",placeholder:"Digite el monto"},null,512),[[r,e.montoMatricula]])]),t("div",A,[B,c(t("select",{"onUpdate:modelValue":o[6]||(o[6]=s=>e.estadoPago=s),class:"form-select","aria-label":"Default select example"},J,512),[[_,e.estadoPago]])]),t("div",q,[G,c(t("input",{"onUpdate:modelValue":o[7]||(o[7]=s=>e.estadoMatricula=s),class:"form-control",list:"datalistOptions",id:"estadoMatricula",placeholder:"estado"},null,512),[[r,e.estadoMatricula]]),L]),t("div",null,[t("button",{onClick:o[8]||(o[8]=(...s)=>n.crearEstudiante&&n.crearEstudiante(...s)),class:"boton col-3"},"Registrar estudiante"),t("button",{onClick:o[9]||(o[9]=(...s)=>n.actualizarEstudiante&&n.actualizarEstudiante(...s)),class:"boton col-3"},"Actualizar estudiante")])],32)])]),t("h2",H,d(e.texto2),1),t("div",null,[t("div",K,[t("form",{id:"formularioestudiantes",class:"row g-3",onSubmit:o[14]||(o[14]=p((...s)=>n.buscarEstudiante&&n.buscarEstudiante(...s),["prevent"]))},[t("div",Q,[W,c(t("input",{"onUpdate:modelValue":o[11]||(o[11]=s=>e.id2=s),type:"number",class:"form-control",id:"id",placeholder:"Digite el ID"},null,512),[[r,e.id2]])]),t("div",null,[t("button",{onClick:o[12]||(o[12]=(...s)=>n.buscarEstudiante&&n.buscarEstudiante(...s)),class:"boton col-3"},"Buscar estudiante"),t("button",{onClick:o[13]||(o[13]=(...s)=>n.eliminarEstudiante&&n.eliminarEstudiante(...s)),class:"boton col-3"},"Eliminar estudiante")])],32)])]),t("div",X,[t("table",Y,[Z,t("tbody",null,[e.estudiantes==null?(h(),m("tr",$,ot)):(h(),m("tr",et,[t("td",null,d(e.estudiantes.id),1),t("td",null,d(e.estudiantes.identificacion),1),t("td",null,d(e.estudiantes.nombre),1),t("td",null,d(e.estudiantes.apellido),1),t("td",null,d(e.estudiantes.curso),1),t("td",null,d(e.estudiantes.montoMatricula),1),t("td",null,d(e.estudiantes.estadoPago),1),t("td",null,d(e.estudiantes.estadoMatricula),1)]))])])])],64)}const lt=f(E,[["render",st],["__scopeId","data-v-0eede174"]]);export{lt as default};
