import{_ as h,o as i,c as r,a as o,t as e,F as p,r as _,p as g,e as k}from"./index.f6afbbd9.js";const m={data(){return{texto:"Listado de estudiantes",url:"http://150.136.99.250:8080/matriculas/",estudiantes:[],token:""}},methods:{consultaEstudiantes(){const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario:"prueba",clave:"123"})};console.log(this.token),fetch(this.url+"api/token",n).then(async s=>{if(s.ok){const t=await s.json();console.log(t),this.token=t.token,console.log(this.token);const d={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}};fetch(this.url+"api/estudiantes",d).then(async l=>{if(l.ok)this.estudiantes=await l.json(),console.log(this.estudiantes);else{const c=new Error(l.statusText);throw c.json=l.json(),console.log(c.message),c}})}else{const t=new Error(s.statusText);throw t.json=s.json(),console.log(t.message),t}})},solicitarToken(){const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario:"prueba",clave:"123"})};fetch(this.url+"api/token",n).then(async s=>{if(s.ok){const t=await s.json();console.log(t),this.token=t.token,console.log(this.token)}else{const t=new Error(s.statusText);throw t.json=s.json(),console.log(t.message),t}})}},beforeMount(){this.consultaEstudiantes(),this.solicitarToken()}},u=n=>(g("data-v-ad9b818e"),n=n(),k(),n),f={class:"container"},b={class:"contenido"},y={class:"titulos"},j=u(()=>o("br",null,null,-1)),w={id:"consultaEstudiantes"},T={class:"table"},E=u(()=>o("thead",null,[o("tr",null,[o("th",{scope:"col"},"ID"),o("th",{scope:"col"},"Identificacion"),o("th",{scope:"col"},"Nombre"),o("th",{scope:"col"},"Apellido"),o("th",{scope:"col"},"Curso"),o("th",{scope:"col"},"Monto de la matricula"),o("th",{scope:"col"},"Estado del pago"),o("th",{scope:"col"},"Estado de la matricula")])],-1));function v(n,s,t,d,l,c){return i(),r("div",f,[o("div",b,[o("h1",y,e(l.texto),1),j,o("div",w,[o("table",T,[E,o("tbody",null,[(i(!0),r(p,null,_(l.estudiantes,a=>(i(),r("tr",null,[o("td",null,e(a.id),1),o("td",null,e(a.identificacion),1),o("td",null,e(a.nombre),1),o("td",null,e(a.apellido),1),o("td",null,e(a.curso),1),o("td",null,e(a.montoMatricula),1),o("td",null,e(a.estadoPago),1),o("td",null,e(a.estadoMatricula),1)]))),256))])])])])])}const S=h(m,[["render",v],["__scopeId","data-v-ad9b818e"]]);export{S as default};
